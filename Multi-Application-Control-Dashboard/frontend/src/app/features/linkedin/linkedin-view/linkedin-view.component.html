<div class="container-fluid py-5">
  <div class="row">
    <div class="col-lg-8 mx-auto">
      <!-- Back Navigation -->
      <div class="mb-4">
        <a routerLink="/linkedin" class="btn btn-outline-secondary">
          <i class="fas fa-arrow-left"></i> Back to Posts
        </a>
      </div>

      <!-- Loading State -->
      <div *ngIf="loading" class="text-center py-5">
        <div class="spinner-border" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>

      <!-- Post Content -->
      <div *ngIf="post$ | async as post" class="card">
        <!-- Post Header -->
        <div class="card-header bg-light border-bottom">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <h2 class="mb-3">{{ post.title }}</h2>
              <div class="mb-2">
                <span class="badge" [ngClass]="getStatusBadgeClass(post.status)">
                  {{ post.status | uppercase }}
                </span>
              </div>
              <small class="text-muted">
                <i class="fas fa-calendar"></i> 
                Created: {{ post.createdAt | date: 'long' }}
              </small>
              <br *ngIf="post.scheduledDate" />
              <small class="text-muted" *ngIf="post.scheduledDate">
                <i class="fas fa-clock"></i> 
                Scheduled: {{ post.scheduledDate | date: 'long' }}
              </small>
            </div>
            <div class="text-end">
              <a routerLink="/linkedin" class="btn btn-sm btn-primary">
                <i class="fas fa-edit"></i> Edit
              </a>
            </div>
          </div>
        </div>

        <!-- Post Body -->
        <div class="card-body">
          <div class="post-content mb-4">
            <p class="lead">{{ post.content }}</p>
          </div>

          <!-- Engagement Metrics -->
          <div class="row mb-4">
            <div class="col-md-4">
              <div class="metric-box">
                <i class="fas fa-thumbs-up text-primary"></i>
                <h5>{{ post.likes || 0 }}</h5>
                <p class="text-muted">Likes</p>
              </div>
            </div>
            <div class="col-md-4">
              <div class="metric-box">
                <i class="fas fa-comments text-success"></i>
                <h5>{{ post.comments || 0 }}</h5>
                <p class="text-muted">Comments</p>
              </div>
            </div>
            <div class="col-md-4">
              <div class="metric-box">
                <i class="fas fa-share text-info"></i>
                <h5>{{ post.shares || 0 }}</h5>
                <p class="text-muted">Shares</p>
              </div>
            </div>
          </div>

          <!-- Share Section -->
          <div class="alert alert-light border">
            <h6 class="mb-3">Share This Post</h6>
            <div class="btn-group" role="group">
              <button class="btn btn-outline-primary" (click)="sharePost('twitter')">
                <i class="fab fa-twitter"></i> Twitter
              </button>
              <button class="btn btn-outline-info" (click)="sharePost('facebook')">
                <i class="fab fa-facebook"></i> Facebook
              </button>
              <button class="btn btn-outline-secondary" (click)="sharePost('linkedin')">
                <i class="fab fa-linkedin"></i> LinkedIn
              </button>
              <button class="btn btn-outline-secondary" (click)="navigator.clipboard.writeText(window.location.href)">
                <i class="fas fa-copy"></i> Copy Link
              </button>
            </div>
          </div>
        </div>

        <!-- Post Footer -->
        <div class="card-footer bg-light">
          <small class="text-muted">
            Last updated: {{ post.updatedAt | date: 'short' }}
          </small>
        </div>
      </div>
    </div>
  </div>
</div>
